{"version":3,"sources":["pages/LoginPage.jsx","helpers.js","pages/DashboardPage.jsx","pages/ViewStud.jsx","pages/AdminPage.jsx","App.js","index.js"],"names":["LoginPage","setLoginStatus","isLoggedin","React","useState","username","setUsername","password","setPassword","history","useHistory","LoginUser","e","a","preventDefault","axios","post","email","data","name","subject","push","console","log","Swal","fire","title","response","error","icon","className","htmlFor","id","type","placeholder","value","onChange","target","onClick","DashboardPage","state","setState","class","get","params","then","catch","href","download","localStorage","removeItem","window","location","reload","ViewStud","subj","useEffect","Object","keys","map","key","MyPieChart","prsentCount","getCount","absentCount","getStr","ChartJS","register","ArcElement","Tooltip","Legend","num","arr","filter","item","length","labels","datasets","label","backgroundColor","borderColor","borderWidth","AdminPage","setIsLoggedin","AddTeacher","input","inputAttributes","autocapitalize","showCancelButton","confirmButtonText","allowOutsideClick","isLoading","isConfirmed","passwd","result","App","props","app_state_attn","getItem","JSON","parse","exact","path","render","to","setItem","stringify","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.654bfe2e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../helpers\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function LoginPage({ setLoginStatus, isLoggedin }) {\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  let history = useHistory();\r\n\r\n  const LoginUser = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n    const {data} = await axios.post(`${API_URL}/teacher_login`, {\r\n        email: username,\r\n        password: password,\r\n      });\r\n      setLoginStatus({\r\n        isLoggedin: true,\r\n        email: username,\r\n        name:  data.name,\r\n        password:  data.password,\r\n        subject:  data.subject,\r\n      })\r\n      history.push(\"/dashboard\");\r\n\r\n    } catch (e) {\r\n      console.log(e);\r\n      Swal.fire({\r\n          title:e.response.data.error,\r\n          icon: 'error'\r\n      })\r\n     \r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"w-full flex justify-center\">\r\n      <div className=\"bg-white shadow-xl border border-gray-400 rounded-lg px-8 pt-6 mt-16 pb-8 mb-4 flex flex-col\">\r\n        <div className=\"text-xl text-gray-800 font-bold text-center my-5\">\r\n          Teacher Login\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label\r\n            className=\"block text-grey-darker text-sm font-bold mb-2\"\r\n            htmlFor=\"username\"\r\n          >\r\n            Email\r\n          </label>\r\n          <input\r\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            type=\"email\"\r\n            placeholder=\"Enter Email\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label\r\n            className=\"block text-grey-darker text-sm font-bold mb-2\"\r\n            htmlFor=\"password\"\r\n          >\r\n            Password\r\n          </label>\r\n          <input\r\n            className=\"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3\"\r\n            id=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"*******\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"flex w-full content-center justify-between\">\r\n          <button\r\n            className=\"flex self-center bg-blue-500 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded-lg shadow-md\"\r\n            type=\"button\"\r\n            onClick={LoginUser}\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const API_URL = \"/api\"\n\nexport const getUserTimeZone = () => {\n  return Intl.DateTimeFormat().resolvedOptions().timeZone;\n};\n\nexport const createLocalTimeFromEpoch = (time) => {\n  if (!time) return \"Never\";\n\n  return new Date(parseInt(time)*1000)\n    .toLocaleString(\"en-IN\", { timeZone: getUserTimeZone() })\n    .toUpperCase();\n};\n\nexport const createLocalTime = (time) => {\n  if (!time) return \"Never\";\n\n  return new Date(time)\n    .toLocaleString(\"en-IN\", { timeZone: getUserTimeZone() })\n    .toUpperCase();\n};\n\nexport  const USERNAME = \"admin\"\nexport  const PASSWORD = \"admin\"","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { API_URL } from \"../helpers\";\r\nimport axios from \"axios\";\r\n\r\nexport default function DashboardPage({ isLoggedin, state, setState }) {\r\n  let history = useHistory();\r\n\r\n//   React.useEffect(() => !isLoggedin && history.push(\"/login\"), [isLoggedin]);\r\n\r\n  const TakeAttn = () => {\r\n    axios\r\n      .get(`${API_URL}/take_attendance`, {\r\n        params: {\r\n          subject: state.subject,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        Swal.fire({\r\n          title: \"Camera Starting! Please Wait..\",\r\n          icon: \"success\",\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        Swal.fire({\r\n          title: \"Somthing went wrong..\",\r\n          icon: \"error\",\r\n        });\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav className=\"flex items-center justify-center flex-wrap bg-indigo-500 py-5 shadow-md\">\r\n          <div className=\"flex items-center flex-shrink-0 text-white mr-6\">\r\n            <span className=\"font-semibold text-3xl tracking-tight\">\r\n              🚀 Smart Attendance System\r\n            </span>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-2 gap-4 w-full mt-6\">\r\n        <div className=\" flex w-full  flex-col justify-center items-center content-center\">\r\n          <button\r\n            onClick={TakeAttn}\r\n            className=\"mt-6 block bg-blue-500 text-white text-xl px-12 py-3 rounded-lg shadow-md\"\r\n          >\r\n            Take Student Attendance\r\n          </button>\r\n\r\n          <a\r\n            href={`http://localhost:8080/excel/attendance-${state.subject}.xlsx`}\r\n            className=\"mt-6 block bg-green-500 text-white text-xl px-12 py-3 rounded-lg shadow-md\"\r\n            download={true}\r\n          >\r\n            Download Excel Sheet\r\n          </a>\r\n\r\n          <button\r\n            onClick={() => history.push(\"/stud\")}\r\n            className=\"mt-6 block bg-purple-500 text-white text-xl px-12 py-3 rounded-lg shadow-md\"\r\n          >\r\n            View Attendance\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\" p-6 flex w-full text-3xl text-center border-gray-500 rounded-lg text-gray-800 border flex-col justify-center items-center content-center\">\r\n          🏫\r\n          <br />\r\n          Teacher Name: {state.name} <br />\r\n          Subject: {state.subject}\r\n          <br />\r\n          Email: {state.email}\r\n          <br />\r\n          <span\r\n              onClick={() => {\r\n                localStorage.removeItem(\"app_state_attn\");\r\n                setState({\r\n                  isLoggedin: false,\r\n                  email: \"\",\r\n                  name: \"\",\r\n                  password: \"\",\r\n                  subject: \"\",\r\n                });\r\n                window.location.reload();\r\n              }}\r\n              className=\"mt-4 bg-red-500 cursor-pointer text-white px-4 shadow-md py-2 font-bold text-xl rounded-lg\"\r\n            >\r\n              Logout\r\n            </span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { API_URL } from \"../helpers\";\r\nimport axios from \"axios\";\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\r\nimport { Pie } from \"react-chartjs-2\";\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default function ViewStud({ subj }) {\r\n  const [state, setState] = React.useState({});\r\n\r\n  const ViewStud = () => {\r\n    axios\r\n      .get(`${API_URL}/view_stud`, {\r\n        params: {\r\n          subj: subj,\r\n        },\r\n      })\r\n      .then(({ data }) => {\r\n        setState(data.data);\r\n      })\r\n      .catch((error) => {\r\n        Swal.fire({\r\n          title: \"No Data Available to Show! Please Take Attendance First!\",\r\n          icon: \"info\",\r\n        });\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => ViewStud(), []);\r\n\r\n  const getData = () => {};\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav className=\"flex items-center justify-center flex-wrap bg-indigo-500 py-5 shadow-md\">\r\n          <div className=\"flex items-center flex-shrink-0 text-white mr-6\">\r\n            <span className=\"font-semibold text-3xl tracking-tight\">\r\n              🚀 Smart Attendance System\r\n            </span>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-1 gap-4 w-full mt-6\">\r\n        <div className=\" flex w-full  flex-col justify-center items-center content-center\">\r\n          {Object.keys(state).map((key) => (\r\n            <div className=\"block border-gray-500 text-xl border mb-5 p-3 rounded\">\r\n              {key} -{\" \"}\r\n              <div>\r\n                <MyPieChart\r\n                  prsentCount={getCount(state[key])}\r\n                  absentCount={31 - getCount(state[key])}\r\n                />\r\n\r\n                Attendance Level: {getStr(getCount(state[key]))}\r\n                <br/>Present days: {getCount(state[key])} | Absent: {31 - getCount(state[key])}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst getStr = (num) => {\r\n  if (num > 27) return \"Good\";\r\n  else if (num > 23) return \"Average\";\r\n  else return \"Poor\";\r\n};\r\n\r\nconst getCount = (arr) => arr.filter((item) => item == \"Present\").length;\r\n\r\nfunction MyPieChart({ prsentCount, absentCount }) {\r\n  return (\r\n    <Pie\r\n      data={{\r\n        labels: [\"Present\", \"Absent\"],\r\n        datasets: [\r\n          {\r\n            label: \"# of Attendance\",\r\n            data: [prsentCount, absentCount],\r\n            backgroundColor: [\r\n              \"rgba(54, 162, 235, 0.2)\",\r\n              \"rgba(255, 99, 132, 0.2)\",\r\n            ],\r\n            borderColor: [\"rgba(54, 162, 235, 1)\", \"rgba(255, 99, 132, 1)\"],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { PASSWORD, USERNAME, API_URL } from \"../helpers\";\r\nimport axios from \"axios\";\r\n\r\nexport default function AdminPage() {\r\n  const [isLoggedin, setIsLoggedin] = React.useState(false);\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n\r\n  const AddStud = (data) => {\r\n    Swal.fire({\r\n      title: \"Enter Student Data\",\r\n      input: \"text\",\r\n      inputAttributes: {\r\n        autocapitalize: \"off\",\r\n      },\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Done\",\r\n      allowOutsideClick: () => !Swal.isLoading(),\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .get(`${API_URL}/add_student`, {\r\n            params: {\r\n              data: result.value,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            Swal.fire({\r\n              title: \"Camera Starting! Please Wait..\",\r\n              icon: \"success\",\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            Swal.fire({\r\n              title: \"Somthing went wrong..\",\r\n              icon: \"error\",\r\n            });\r\n            console.log(error);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  const AddTeacher = async () => {\r\n      try {\r\n       const name = await Swal.fire({\r\n            title: \"Enter Teacher Name\",\r\n            input: \"text\",\r\n            inputAttributes: {\r\n              autocapitalize: \"off\",\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Done\",\r\n            allowOutsideClick: () => !Swal.isLoading(),\r\n          })\r\n\r\n\r\n        if (!name.isConfirmed) return;\r\n\r\n          const email = await Swal.fire({\r\n            title: \"Enter Teacher Email\",\r\n            input: \"text\",\r\n            inputAttributes: {\r\n              autocapitalize: \"off\",\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Done\",\r\n            allowOutsideClick: () => !Swal.isLoading(),\r\n          })\r\n\r\n\r\n          if (!email.isConfirmed) return;\r\n\r\n\r\n          const subject = await Swal.fire({\r\n            title: \"Enter Teacher Subject\",\r\n            input: \"text\",\r\n            inputAttributes: {\r\n              autocapitalize: \"off\",\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Done\",\r\n            allowOutsideClick: () => !Swal.isLoading(),\r\n          })\r\n\r\n\r\n          if (!subject.isConfirmed) return;\r\n\r\n\r\n          const passwd = await Swal.fire({\r\n            title: \"Enter Teacher Password\",\r\n            input: \"text\",\r\n            inputAttributes: {\r\n              autocapitalize: \"off\",\r\n            },\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Done\",\r\n            allowOutsideClick: () => !Swal.isLoading(),\r\n          })\r\n\r\n\r\n          if (!passwd.isConfirmed) return;\r\n\r\n          const {data} = await axios.post(`${API_URL}/teacher_add`, {\r\n            name: name.value,\r\n            email: email.value,\r\n            subject: subject.value,\r\n            password: passwd.value\r\n          });\r\n\r\n          Swal.fire({\r\n            title: \"Teacher add Success!\",\r\n            icon: \"success\",\r\n          })\r\n\r\n\r\n\r\n      } catch (error) {\r\n        Swal.fire({\r\n            title: \"Somthing went wrong..\",\r\n            icon: \"error\",\r\n          });\r\n          console.log(error);\r\n     \r\n      }\r\n  }\r\n\r\n  if (!isLoggedin)\r\n    return (\r\n      <div className=\"w-full flex justify-center\">\r\n        <div className=\"bg-white shadow-xl border border-gray-400 rounded-lg px-8 pt-6 mt-16 pb-8 mb-4 flex flex-col\">\r\n          <div className=\"text-xl text-gray-800 font-bold text-center my-5\">\r\n            Admin Login\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              className=\"block text-grey-darker text-sm font-bold mb-2\"\r\n              htmlFor=\"username\"\r\n            >\r\n              Username\r\n            </label>\r\n            <input\r\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label\r\n              className=\"block text-grey-darker text-sm font-bold mb-2\"\r\n              htmlFor=\"password\"\r\n            >\r\n              Password\r\n            </label>\r\n            <input\r\n              className=\"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"*******\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"flex w-full content-center justify-between\">\r\n            <button\r\n              className=\"flex self-center bg-blue-500 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded-lg shadow-md\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                if (username != USERNAME) {\r\n                  return Swal.fire({\r\n                    title: \"Invalid Username\",\r\n                    icon: \"error\",\r\n                  });\r\n                }\r\n\r\n                if (password != PASSWORD) {\r\n                  return Swal.fire({\r\n                    title: \"Invalid Password\",\r\n                    icon: \"error\",\r\n                  });\r\n                }\r\n                setIsLoggedin(true);\r\n              }}\r\n            >\r\n              Sign In\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav className=\"flex items-center justify-center flex-wrap bg-indigo-500 py-5 shadow-md\">\r\n          <div className=\"flex items-center flex-shrink-0 text-white mr-6\">\r\n            <span className=\"font-semibold text-3xl tracking-tight\">\r\n              Smart Attendance System [Admin]\r\n            </span>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-1 gap-4 w-full mt-6\">\r\n        <div className=\" flex w-full  flex-col justify-center items-center content-center\">\r\n          <button\r\n            onClick={AddTeacher}\r\n            className=\"mt-6 block bg-purple-500 text-white text-xl px-12 py-3 rounded-lg shadow-md\"\r\n          >\r\n            Add Teacher in Database\r\n          </button>\r\n\r\n          <button\r\n            onClick={AddStud}\r\n            className=\"mt-6 block bg-green-500 text-white text-xl px-12 py-3 rounded-lg shadow-md\"\r\n          >\r\n            Add New Student in Database\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Switch, Route, HashRouter, Redirect } from \"react-router-dom\";\nimport LoginPage from \"./pages/LoginPage\";\nimport DashboardPage from \"./pages/DashboardPage\";\nimport ViewStud from \"./pages/ViewStud\";\nimport AdminPage from \"./pages/AdminPage\";\n\nfunction App(props) {\n  const [state, setState] = React.useState({\n    isLoggedin: false,\n    email: \"\",\n    name: \"\",\n    password: \"\",\n    subject: \"\",\n  });\n\n  React.useEffect(() => {\n    const app_state_attn = localStorage.getItem(\"app_state_attn\");\n    if (app_state_attn) {\n      setState(JSON.parse(app_state_attn));\n    }\n  }, []);\n\n  return (\n    <HashRouter>\n      <Switch>\n\n         <Route\n            exact\n            path=\"/admin\"\n            render={(props) => (\n              <AdminPage\n                {...props}\n              />\n            )}\n          />\n\n\n\n        {!state.isLoggedin ? (\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) => (\n              <LoginPage\n                {...props}\n                setLoginStatus={(data) => {\n                  setState({ ...data });\n                  localStorage.setItem(\"app_state_attn\", JSON.stringify(data));\n                }}\n                isLoggedin={state.isLoggedin}\n              />\n            )}\n          />\n        ) : (\n          <Route path=\"/login\" exact>\n            <Redirect to=\"/dashboard\" />\n          </Route>\n        )}\n\n        {state.isLoggedin ? (\n          <>\n            <Route\n              exact\n              path=\"/dashboard\"\n              render={(props) => (\n                <DashboardPage {...props} isLoggedin={state.isLoggedin} state={state} setState={setState} />\n              )}\n            />\n\n          <Route\n              exact\n              path=\"/stud\"\n              render={(props) => (\n                <ViewStud subj={state.subject} {...props} isLoggedin={state.isLoggedin} state={state} setState={setState} />\n              )}\n            />\n\n\n\n          </>\n        ) : (\n          <Route path=\"*\" exact>\n            <Redirect to=\"/login\" />\n          </Route>\n        )}\n\n        <Route path=\"/\" exact>\n          <Redirect to=\"/login\" />\n        </Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"./tailwind.min.css\"\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}